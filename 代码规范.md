
### 日期使用规范
* 日期类型都使用LocalDateTime

### 常用Linux命令
* 查询内存CPU占有：ps aux --sort=-%mem

### ⚠️⚠️⚠️⚠️⚠️⚠️⚠️⚠️⚠️⚠️⚠️⚠️⚠️
* 在总pom文件中新增了test和dev配置项，在发布test环境时，maven选择test配置
* bootstrap文件新增了nacos的ip配置，在发布test环境时，在ip位置填写自己服务器的公网ip

### 接口文档，用springdoc平替swagger
swagger springdoc  
@Api(name = "xxx")                   @Tag(name = "xxx")
@Api(description= "xxx")             @Tag(description= "xxx")   
@ApiOperation @Operation
@ApiIgnore @Hidden    
@ApiParam @Parameter
@ApiImplicitParam @Parameter
@ApiImplicitParams @Parameters   
@ApiModel @Schema    
@ApiModelProperty @Schema   
@ApiModelProperty(hidden = true)     @Schema(accessMode = READ_ONLY)  
@ApiResponse @ApiResponse

### 
* id为字符串
* 所有表必须包含 id、create_by、create_time、update_by、update_time、del_flag
* del_flag=0 未删除，del_flag=1 已删除；删除时更新del_flag=1，不要物理删除

## 代码规范
* 参考[阿里巴巴Java开发手册](https://github.com/alibaba/p3c) 

### Controller (控制器层)
* 职责：负责接收HTTP请求，处理请求参数，调用Service层处理业务逻辑，并将Service层返回的结果转换成响应数据返回给客户端。此外，还需要处理视图渲染、错误处理和响应状态码设置。
* 命名规范：通常以Controller结尾，如UserController。
* 设计原则：保持瘦控制器原则，即控制器应当只做请求转发、参数校验、视图选择等工作，避免在Controller中直接操作数据或进行复杂的业务逻辑处理。

### Service (服务层)
* 职责：封装核心业务逻辑，调用DAO层进行数据操作。Service层是业务逻辑的主要实现场所，负责处理事务、业务规则校验、数据转换等工作。
* 命名规范：一般以业务领域名词+Service命名，如UserService。
* 设计原则：遵循单一职责原则，每个Service应专注于处理一类业务逻辑。提倡面向接口编程，实现松耦合和可测试性。

### DAO (数据访问对象层)
* 职责：负责与数据库交互，封装数据库操作，如增删改查。DAO层是数据持久化的直接实现，通常与数据库中的表一一对应。
* 命名规范：以DAO或Mapper结尾，如UserDAO或UserMapper。
* 设计原则：遵循低耦合原则，不应包含业务逻辑，仅关注数据访问。推荐使用ORM框架（如MyBatis）来映射数据库操作。

### 编码规范中的通用指导原则
* 分层清晰：确保各层之间职责分明，不互相渗透。Controller层不直接访问DAO，而是通过Service层间接操作数据。
* 代码复用：在Service和DAO层中提取共用逻辑，减少代码重复。
* 安全与性能：在Service层处理安全性验证（如权限校验），并在设计时考虑性能优化，比如合理的缓存策略。
* 测试友好：确保Service层易于单元测试，避免对外部资源的硬编码依赖。

### 命名规则：
* 代码中的命名不能以下划线 _ 或美元符号 $ 开始或结束。
* 避免拼音与英文混合的命名方式，不建议使用纯中文命名。
* 类名采用 UpperCamelCase（大驼峰命名法），如 UserManagerServiceImpl。
* 方法名、参数名、成员变量、局部变量统一使用 lowerCamelCase（小驼峰命名法），如 addUserInfo。

#### 常量定义：
* 常量命名全大写，单词间用下划线分隔，如 MAX_USER_COUNT。
  代码格式：遵循一致的缩进、换行和空格规则，保持代码整洁。
  OOP规约：鼓励面向对象编程原则，如单一职责、里氏替换等。
  日期时间：推荐使用标准的日期时间处理库，避免直接操作日期时间字符串。
  Java特定规范
* 权限控制：在方法上使用 @RequiresPermissions 等注解来声明权限需求。
  避免不规范缩写：变量和方法名应清晰表达意图，避免无意义的缩写。
  类型后缀命名：常量和变量命名时，表示类型的后缀放在词尾，例如 idList、TERMINATED_THREAD_COUNT。
  接口和类设计：接口名称通常是动词+名词形式，类设计遵循 SOLID 原则。

### 安全规范
* 接口权限校验：前后端接口应进行权限和角色校验。
* 敏感数据处理：展示敏感数据时应进行脱敏处理。
* 防止SQL注入：避免字符串拼接SQL，使用参数化查询。

### 文档与注释
* 接口文档：接口设计完成后，应编写详细的接口文档，包括请求URL、请求方法、参数列表、示例请求与响应等。
* 代码注释：接口方法及重要逻辑处应有清晰的注释，解释其功能、参数意义及可能抛出的异常等。

### 版本控制
* 版本管理：接口应带有版本信息，便于接口升级时旧版接口仍可使用，如 v1/getUser。

### 设计原则
* RESTFUL原则：尽可能遵循RESTFUL设计原则，使用HTTP方法（GET、POST、PUT、DELETE）明确表示操作意图。
* 幂等性：对于可能重复调用的接口，应设计为幂等操作，确保多次调用结果一致。





